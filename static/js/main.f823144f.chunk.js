(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{167:function(e,t,n){e.exports=n(272)},172:function(e,t,n){},272:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(27),c=n.n(o),i=(n(172),n(28)),l=n(11),s=n(12),u=n(14),h=n(13),f=n(15),m=n(7),d=n(45),p=n.n(d),g=n(77),w="https://newsapi.org/v2/everything?q=sports&apiKey=79af8a0825ba4443adf9c1f76f8913cb",b=function(){var e=Object(g.a)(p.a.mark(function e(t,n){var r,a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(w,"&page=").concat(t),n&&(r="".concat(w,"&from=").concat(n)),e.next=4,fetch(r).then(function(e){return e.json()});case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),v=n(46),E=n.n(v),y={card:{maxWidth:690,border:"1px solid #3f51b5",padding:10,marginBottom:10},media:{height:280}},O=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.description,r=e.publishedAt,o=e.source,c=e.urlToImage,i=E()(r||E.a.now()).fromNow();return a.a.createElement(m.c,{style:y.card},a.a.createElement(m.d,null,c&&a.a.createElement(m.g,{style:y.media,image:c,title:t}),a.a.createElement(m.f,null,a.a.createElement(m.n,{gutterBottom:!0,variant:"h5",component:"h2"},t),a.a.createElement(m.n,{component:"p"},n))),a.a.createElement(m.e,null,a.a.createElement(m.b,{size:"small",color:"primary"},o&&o.name),a.a.createElement(m.b,{size:"small",color:"primary"},i)))}}]),t}(r.PureComponent),j=function(e){return function(t){function n(){var e,t;Object(l.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(u.a)(this,(e=Object(h.a)(n)).call.apply(e,[this].concat(a)))).onScroll=function(){var e=t.props,n=e.articles,r=e.isLoading,a=e.fetchNews,o=e.errors;!(window.innerHeight+window.scrollY>=document.body.offsetHeight-500&&n.length)||r||o&&o.loadingErrorMsg||a(!0,!1)},t}return Object(f.a)(n,t),Object(s.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.onScroll,!1)}},{key:"render",value:function(){return a.a.createElement(e,this.props)}}]),n}(r.Component)},k={root:{flexGrow:1},grow:{flexGrow:1},label:{color:"#fff"}},R=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.autoRefresh,n=e.handleChange;return a.a.createElement("div",{style:k.root},a.a.createElement(m.a,{position:"static"},a.a.createElement(m.m,null,a.a.createElement(m.n,{variant:"h6",color:"inherit",style:k.grow},"Sports News"),a.a.createElement(m.j,null,a.a.createElement(m.i,{control:a.a.createElement(m.l,{checked:t,onChange:n,"aria-label":"RefreshSwitch"}),label:a.a.createElement("div",{style:{color:"#fff"}},"Auto Refresh ".concat(t?"On":"Off"))})))))}}]),t}(a.a.Component),S=j(function(e){var t=e.articles;return a.a.createElement("div",{style:{display:"inline-block",marginTop:15}},t.map(function(e){return a.a.createElement(O,Object.assign({},e,{key:e.url}))}))}),N=function(e){function t(){var e,n;Object(l.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).state={articles:[],isRefreshing:!1,isLoading:!0,page:1,currentTime:"",autoRefresh:!1,errors:{}},n.pullUpdates=function(){n.puller=setInterval(function(){return n.handlefetchNews(!1,!0,(new Date).toISOString())},6e4)},n.handleChange=function(e){n.setState({autoRefresh:e.target.checked}),e.target.checked?n.pullUpdates():clearTimeout(n.puller)},n.fetchNews=function(e){b(n.state.page,e).then(function(t){var r={isRefreshing:!1,isLoading:!1},a=t.articles,o=t.message,c=t.code;a&&a.length>0?e?(r.currentTime=e,r.articles=[].concat(Object(i.a)(a),Object(i.a)(n.state.articles))):(r.page=n.state.page+1,r.articles=[].concat(Object(i.a)(n.state.articles),Object(i.a)(a))):"maximumResultsReached"===c?r.errors={loadingErrorMsg:o}:c&&(r.errors={refreshErrorMsg:o}),n.setState(r)}).catch(function(){return n.setState({isRefreshing:!1,isLoading:!1})})},n.handlefetchNews=function(e,t,r){n.setState({isLoading:e,isRefreshing:t},function(){return n.fetchNews(r)})},n}return Object(f.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.handlefetchNews(!0,!1),this.state.autoRefresh&&this.pullUpdates()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.puller)}},{key:"render",value:function(){var e=this.state,t=e.articles,n=e.isLoading,r=e.isRefreshing,o=e.autoRefresh,c=e.errors;return a.a.createElement(a.a.Fragment,null,a.a.createElement(R,{autoRefresh:o,handleChange:this.handleChange}),r&&a.a.createElement(m.k,null),a.a.createElement("div",{style:{color:"#ff5252",margin:"10 0"}},c&&c.refreshErrorMsg),a.a.createElement("div",{style:{textAlign:"center"}},a.a.createElement(S,{articles:t,fetchNews:this.handlefetchNews,isLoading:n,errors:c}),a.a.createElement("div",{style:{color:"#ff5252",marginBottom:10}},c&&c.loadingErrorMsg),a.a.createElement("div",null,n&&a.a.createElement(m.h,null))))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[167,1,2]]]);
//# sourceMappingURL=main.f823144f.chunk.js.map